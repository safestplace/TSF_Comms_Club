"use strict";(()=>{var e={};e.id=681,e.ids=[681],e.modules={7849:e=>{e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3302:(e,s,t)=>{t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d});var a=t(482),r=t(9108),l=t(2563),i=t.n(l),n=t(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["member",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6125)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\member\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,5569)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\member\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\member\\page.tsx"],m="/member/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/member/page",pathname:"/member",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6125:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(5036),r=t(7439),l=t(7842),i=t(867),n=t(5573),c=t(5752),d=t(587),x=t(7238);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,t(9508).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var o=t(146);async function h(){let e=(0,r.cookies)(),s=(0,l.e)(e),{data:{user:t}}=await s.auth.getUser();t||(0,i.redirect)("/login");let{data:h}=await s.from("club_members").select("*, clubs(*)").eq("user_id",t.id).eq("status","approved").single();if(!h)return(0,a.jsxs)("div",{className:"max-w-4xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Welcome to ClubPortal!"}),a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"You're not a member of any club yet."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Ask your club admin to add you, or create a new club request."})]})})]});let p=h.club_id,{count:u}=await s.from("achievement_requests").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("status","approved"),{data:j}=await s.from("meetings").select("*").eq("club_id",p).gte("scheduled_at",new Date().toISOString()).order("scheduled_at").limit(3),{data:g}=await s.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(5),{count:b}=await s.from("certificates").select("*",{count:"exact",head:!0}).eq("user_id",t.id),N=Math.min(Math.floor((u||0)/3)+1,4);return(0,a.jsxs)("div",{className:"max-w-6xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back!"}),a.jsx("p",{className:"text-gray-600",children:h.clubs.name})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Current Level"}),a.jsx("p",{className:"text-3xl font-bold text-primary-600",children:N})]}),a.jsx(d.Z,{className:"h-10 w-10 text-primary-300"})]})})}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Achievements"}),a.jsx("p",{className:"text-3xl font-bold text-success-600",children:u||0})]}),a.jsx(x.Z,{className:"h-10 w-10 text-success-300"})]})})}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-warning-600",children:b||0})]}),a.jsx(x.Z,{className:"h-10 w-10 text-warning-300"})]})})}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Notifications"}),a.jsx("p",{className:"text-3xl font-bold text-error-600",children:g?.filter(e=>!e.read_at).length||0})]}),a.jsx(m,{className:"h-10 w-10 text-error-300"})]})})})]}),(0,a.jsxs)(n.Zb,{className:"mb-8",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Level Progress"})}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Level ",e]}),a.jsx("span",{className:"text-sm text-gray-500",children:e<=N?"Completed":"Locked"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${e<=N?"bg-primary-600":"bg-gray-300"}`,style:{width:e<=N?"100%":"0%"}})})]},e))})})]}),(0,a.jsxs)(n.Zb,{className:"mb-8",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Upcoming Meetings"})}),a.jsx(n.aY,{children:j&&j.length>0?a.jsx("div",{className:"space-y-4",children:j.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,c.o0)(e.scheduled_at)," â€¢ ",e.venue]})]}),a.jsx(o.Z,{className:"h-5 w-5 text-gray-400"})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No upcoming meetings scheduled"})})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Recent Notifications"})}),a.jsx(n.aY,{children:g&&g.length>0?a.jsx("div",{className:"space-y-3",children:g.map(e=>(0,a.jsxs)("div",{className:`p-3 rounded-lg ${e.read_at?"bg-gray-50":"bg-primary-50"}`,children:[a.jsx("p",{className:"text-sm",children:e.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(0,c.o0)(e.created_at)})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No notifications"})})]})]})}},7238:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9508).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,265,476,979,345,973,614,598,684],()=>t(3302));module.exports=a})();