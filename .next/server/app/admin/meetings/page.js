(()=>{var e={};e.id=106,e.ids=[106],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5210:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>o,pages:()=>m,routeModule:()=>x,tree:()=>c});var a=t(482),l=t(9108),r=t(2563),i=t.n(r),n=t(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["admin",{children:["meetings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8707)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\admin\\meetings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6294)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\admin\\meetings\\page.tsx"],o="/admin/meetings/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/meetings/page",pathname:"/admin/meetings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5088:(e,s,t)=>{Promise.resolve().then(t.bind(t,386))},1491:(e,s,t)=>{Promise.resolve().then(t.bind(t,3140))},386:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(5344),l=t(7362),r=t(8428),i=t(3729),n=t(6506),d=t(3511),c=t(4173);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,t(9224).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var o=t(9895),u=t(5794),x=t(2246),h=t(5187),p=t(8120);function g({children:e}){let{user:s,loading:t,signOut:g}=(0,l.a)(),y=(0,r.useRouter)(),[v,f]=(0,i.useState)(!1),b=(0,c.e)();return((0,i.useEffect)(()=>{(async()=>{if(!t&&!s){y.push("/login");return}if(s){let{data:e}=await b.from("club_admins").select("*").eq("user_id",s.id).eq("active",!0).single();e?f(!0):y.push("/member")}})()},[s,t,y]),t||!v)?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("aside",{className:"fixed top-0 left-0 h-full w-64 bg-white border-r border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"ClubPortal"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Admin Dashboard"})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)(n.default,{href:"/admin",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(m,{className:"h-5 w-5"}),a.jsx("span",{children:"Dashboard"})]}),(0,a.jsxs)(n.default,{href:"/admin/members",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(o.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Members"})]}),(0,a.jsxs)(n.default,{href:"/admin/meetings",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(u.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Meetings"})]}),(0,a.jsxs)(n.default,{href:"/admin/approvals",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(x.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Approvals"})]}),(0,a.jsxs)(n.default,{href:"/admin/certificates",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(h.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Certificates"})]})]}),(0,a.jsxs)("div",{className:"absolute bottom-6 left-6 right-6",children:[a.jsx(n.default,{href:"/member",children:a.jsx(d.z,{variant:"ghost",className:"w-full mb-2",children:"Member View"})}),(0,a.jsxs)(d.z,{variant:"ghost",className:"w-full justify-start",onClick:g,children:[a.jsx(p.Z,{className:"h-5 w-5 mr-3"}),"Sign Out"]})]})]}),a.jsx("main",{className:"ml-64 p-8",children:e})]})}},3140:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5344),l=t(3729),r=t(4173),i=t(240),n=t(3511),d=t(5397),c=t(708),m=t(5453),o=t(3430),u=t(5282);function x({clubId:e,onSuccess:s,initialData:t}){let[i,d]=(0,l.useState)([]),[x,h]=(0,l.useState)(!1),p=(0,r.e)(),{register:g,handleSubmit:y,formState:{errors:v}}=(0,c.cI)({resolver:(0,m.F)(o.u8),defaultValues:t||{}});(0,l.useEffect)(()=>{(async()=>{let{data:s}=await p.from("levels").select("*").eq("club_id",e).order("number");s&&d(s)})()},[e]);let f=async a=>{if(h(!0),t){let{error:e}=await p.from("meetings").update({title:a.title,level_id:a.level_id,scheduled_at:a.scheduled_at,venue:a.venue,notes:a.notes}).eq("id",t.id);e||s()}else{let{error:t}=await p.from("meetings").insert({club_id:e,title:a.title,level_id:a.level_id,scheduled_at:a.scheduled_at,venue:a.venue,notes:a.notes});t||s()}h(!1)};return(0,a.jsxs)("form",{onSubmit:y(f),className:"space-y-4",children:[a.jsx(u.I,{label:"Meeting Title",...g("title"),error:v.title?.message,placeholder:"Weekly Meeting #15"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),(0,a.jsxs)("select",{...g("level_id",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select a level"}),i.map(e=>(0,a.jsxs)("option",{value:e.id,children:["Level ",e.number,": ",e.title]},e.id))]}),v.level_id&&a.jsx("p",{className:"mt-1 text-sm text-error-600",children:v.level_id.message})]}),a.jsx(u.I,{label:"Scheduled Date & Time",type:"datetime-local",...g("scheduled_at"),error:v.scheduled_at?.message}),a.jsx(u.I,{label:"Venue",...g("venue"),error:v.venue?.message,placeholder:"Main Auditorium"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),a.jsx("textarea",{...g("notes"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Additional meeting information..."})]}),a.jsx(n.z,{type:"submit",className:"w-full",disabled:x,children:x?"Saving...":t?"Update Meeting":"Create Meeting"})]})}var h=t(1626),p=t(1838),g=t(9224);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,g.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),v=(0,g.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function f(){let[e,s]=(0,l.useState)([]),[t,c]=(0,l.useState)(null),[m,o]=(0,l.useState)(!1),[u,g]=(0,l.useState)(null),[f,b]=(0,l.useState)(!0),j=(0,r.e)();(0,l.useEffect)(()=>{_()},[]);let _=async()=>{let{data:{user:e}}=await j.auth.getUser();if(!e)return;let{data:t}=await j.from("club_admins").select("club_id").eq("user_id",e.id).eq("active",!0).single();if(!t)return;c(t.club_id);let{data:a}=await j.from("meetings").select("*, levels(*)").eq("club_id",t.club_id).order("scheduled_at",{ascending:!1});s(a||[]),b(!1)},N=async e=>{if(!confirm("Are you sure you want to delete this meeting?"))return;let{error:s}=await j.from("meetings").delete().eq("id",e);s||_()};return f?a.jsx("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Meetings"}),(0,a.jsxs)(n.z,{onClick:()=>o(!0),children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Create Meeting"]})]}),(m||u)&&t&&(0,a.jsxs)(i.Zb,{className:"mb-6",children:[a.jsx(i.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx(i.ll,{children:u?"Edit Meeting":"Create New Meeting"}),a.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>{o(!1),g(null)},children:"Cancel"})]})}),a.jsx(i.aY,{children:a.jsx(x,{clubId:t,initialData:u,onSuccess:()=>{o(!1),g(null),_()}})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[e.map(e=>a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsxs)(d.C,{variant:"info",children:["Level ",e.levels.number]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:(0,h.o0)(e.scheduled_at)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Venue: ",e.venue]}),e.notes&&a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:e.notes})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(n.z,{size:"sm",variant:"ghost",onClick:()=>g(e),children:a.jsx(y,{className:"h-4 w-4"})}),a.jsx(n.z,{size:"sm",variant:"danger",onClick:()=>N(e.id),children:a.jsx(v,{className:"h-4 w-4"})})]})]})})},e.id)),0===e.length&&a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No meetings created yet"})})})]})]})}},3430:(e,s,t)=>{"use strict";t.d(s,{dm:()=>l,gY:()=>r,lP:()=>n,u8:()=>i});var a=t(2374);let l=a.Ry({email:a.Z_().email("Invalid email address"),password:a.Z_().min(6,"Password must be at least 6 characters")}),r=a.Ry({name:a.Z_().min(2,"Name must be at least 2 characters"),email:a.Z_().email("Invalid email address"),password:a.Z_().min(6,"Password must be at least 6 characters"),confirmPassword:a.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});a.Ry({club_name:a.Z_().min(3,"Club name must be at least 3 characters"),state_id:a.Rx().min(1,"Please select a state"),district_id:a.Rx().min(1,"Please select a district"),institution_text:a.Z_().min(3,"Institution name required")});let i=a.Ry({title:a.Z_().min(3,"Title must be at least 3 characters"),level_id:a.Rx().min(1,"Please select a level"),scheduled_at:a.Z_().min(1,"Please select a date and time"),venue:a.Z_().min(3,"Venue is required"),notes:a.Z_().optional()});a.Ry({title:a.Z_().min(3,"Title required"),description:a.Z_().min(10,"Description required"),level_id:a.Rx().min(1,"Select level")});let n=a.Ry({role_id:a.Rx().min(1,"Please select a role")})},5187:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},5794:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9895:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6294:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`C:\Users\ADMIN\Documents\TSF Comms Club\app\admin\layout.tsx`),{__esModule:l,$$typeof:r}=a,i=a.default},8707:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`C:\Users\ADMIN\Documents\TSF Comms Club\app\admin\meetings\page.tsx`),{__esModule:l,$$typeof:r}=a,i=a.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,265,476,979,687,289],()=>t(5210));module.exports=a})();