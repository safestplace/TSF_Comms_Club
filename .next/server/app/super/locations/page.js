(()=>{var e={};e.id=741,e.ids=[741],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8251:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=t(482),r=t(9108),i=t(2563),n=t.n(i),l=t(8300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["super",{children:["locations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3823)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\super\\locations\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4217)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\super\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\ADMIN\\Documents\\TSF Comms Club\\app\\super\\locations\\page.tsx"],x="/super/locations/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/super/locations/page",pathname:"/super/locations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},814:(e,s,t)=>{Promise.resolve().then(t.bind(t,9853))},5009:(e,s,t)=>{Promise.resolve().then(t.bind(t,131))},9853:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5344),r=t(7362),i=t(8428),n=t(3729),l=t(6506),c=t(3511),d=t(4173),o=t(2246),x=t(9224);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,x.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),u=(0,x.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var h=t(8120);function p({children:e}){let{user:s,loading:t,signOut:x}=(0,r.a)(),p=(0,i.useRouter)(),[j,g]=(0,n.useState)(!1),f=(0,d.e)();return((0,n.useEffect)(()=>{(async()=>{if(!t&&!s){p.push("/login");return}if(s){let{data:e}=await f.from("users").select("global_role").eq("id",s.id).single();e?.global_role!=="super"?p.push("/member"):g(!0)}})()},[s,t,p]),t||!j)?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("aside",{className:"fixed top-0 left-0 h-full w-64 bg-white border-r border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"ClubPortal"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Super Admin"})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)(l.default,{href:"/super/approvals",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(o.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Approvals"})]}),(0,a.jsxs)(l.default,{href:"/super/locations",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(m,{className:"h-5 w-5"}),a.jsx("span",{children:"Locations"})]}),(0,a.jsxs)(l.default,{href:"/super/insights",className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:[a.jsx(u,{className:"h-5 w-5"}),a.jsx("span",{children:"Insights"})]})]}),a.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:(0,a.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start",onClick:x,children:[a.jsx(h.Z,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]}),a.jsx("main",{className:"ml-64 p-8",children:e})]})}},131:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var a=t(5344),r=t(3729),i=t(4173),n=t(240),l=t(3511),c=t(5282),d=t(5397),o=t(2392),x=t(2312),m=t(4513),u=t(1838);function h(){let[e,s]=(0,r.useState)([]),[t,h]=(0,r.useState)([]),[p,j]=(0,r.useState)([]),[g,f]=(0,r.useState)([]),[y,v]=(0,r.useState)(""),[N,b]=(0,r.useState)(null),[C,w]=(0,r.useState)(""),[S,A]=(0,r.useState)(!0),M=(0,i.e)();(0,r.useEffect)(()=>{D()},[]);let D=async()=>{let{data:e}=await M.from("states").select("*").order("name");s(e||[]);let{data:t}=await M.from("districts").select("*, states(name)").order("name");h(t||[]);let{data:a}=await M.from("institutions").select("*, districts(name, states(name))").eq("status","pending").order("name");j(a||[]);let{data:r}=await M.from("institutions").select("*, districts(name, states(name))").eq("status","approved").order("name");f(r||[]),A(!1)},_=async()=>{if(!y.trim())return;let{error:e}=await M.from("states").insert({name:y.trim()});e||(v(""),D())},k=async()=>{if(!C.trim()||!N)return;let{error:e}=await M.from("districts").insert({state_id:N,name:C.trim()});e||(w(""),D())},P=async e=>{let{error:s}=await M.from("institutions").update({status:"approved"}).eq("id",e);s||D()},Z=async e=>{let{error:s}=await M.from("institutions").delete().eq("id",e);s||D()};return S?a.jsx("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"max-w-6xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Location Management"}),p.length>0&&(0,a.jsxs)(n.Zb,{className:"mb-6",children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{children:["Pending Institutions (",p.length,")"]})}),a.jsx(n.aY,{children:(0,a.jsxs)(o.iA,{children:[a.jsx(o.xD,{children:(0,a.jsxs)(o.SC,{children:[a.jsx(o.ss,{children:"Institution Name"}),a.jsx(o.ss,{children:"District"}),a.jsx(o.ss,{children:"State"}),a.jsx(o.ss,{children:"Actions"})]})}),a.jsx(o.RM,{children:p.map(e=>(0,a.jsxs)(o.SC,{children:[a.jsx(o.pj,{className:"font-medium",children:e.name}),a.jsx(o.pj,{children:e.districts.name}),a.jsx(o.pj,{children:e.districts.states.name}),a.jsx(o.pj,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(l.z,{size:"sm",onClick:()=>P(e.id),children:[a.jsx(x.Z,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"danger",onClick:()=>Z(e.id),children:[a.jsx(m.Z,{className:"h-4 w-4 mr-1"}),"Reject"]})]})})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Add State"})}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(c.I,{value:y,onChange:e=>v(e.target.value),placeholder:"State name"}),(0,a.jsxs)(l.z,{onClick:_,children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Add"]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Existing States (",e.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:e.map(e=>a.jsx(d.C,{variant:"default",children:e.name},e.id))})]})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Add District"})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("select",{value:N||"",onChange:e=>b(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select a state"}),e.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(c.I,{value:C,onChange:e=>w(e.target.value),placeholder:"District name"}),(0,a.jsxs)(l.z,{onClick:k,disabled:!N,children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})})]})]}),(0,a.jsxs)(n.Zb,{className:"mb-6",children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{children:["All Districts (",t.length,")"]})}),a.jsx(n.aY,{children:(0,a.jsxs)(o.iA,{children:[a.jsx(o.xD,{children:(0,a.jsxs)(o.SC,{children:[a.jsx(o.ss,{children:"District Name"}),a.jsx(o.ss,{children:"State"})]})}),a.jsx(o.RM,{children:t.map(e=>(0,a.jsxs)(o.SC,{children:[a.jsx(o.pj,{className:"font-medium",children:e.name}),a.jsx(o.pj,{children:e.states.name})]},e.id))})]})})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{children:["Approved Institutions (",g.length,")"]})}),a.jsx(n.aY,{children:(0,a.jsxs)(o.iA,{children:[a.jsx(o.xD,{children:(0,a.jsxs)(o.SC,{children:[a.jsx(o.ss,{children:"Institution Name"}),a.jsx(o.ss,{children:"District"}),a.jsx(o.ss,{children:"State"})]})}),a.jsx(o.RM,{children:g.map(e=>(0,a.jsxs)(o.SC,{children:[a.jsx(o.pj,{className:"font-medium",children:e.name}),a.jsx(o.pj,{children:e.districts.name}),a.jsx(o.pj,{children:e.districts.states.name})]},e.id))})]})})]})]})}},2392:(e,s,t)=>{"use strict";t.d(s,{RM:()=>l,SC:()=>c,iA:()=>i,pj:()=>o,ss:()=>d,xD:()=>n});var a=t(5344),r=t(1626);function i({className:e,...s}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsx("table",{className:(0,r.cn)("min-w-full divide-y divide-gray-200",e),...s})})}function n({className:e,...s}){return a.jsx("thead",{className:(0,r.cn)("bg-gray-50",e),...s})}function l({className:e,...s}){return a.jsx("tbody",{className:(0,r.cn)("bg-white divide-y divide-gray-200",e),...s})}function c({className:e,...s}){return a.jsx("tr",{className:(0,r.cn)("hover:bg-gray-50",e),...s})}function d({className:e,...s}){return a.jsx("th",{className:(0,r.cn)("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",e),...s})}function o({className:e,...s}){return a.jsx("td",{className:(0,r.cn)("px-6 py-4 whitespace-nowrap text-sm",e),...s})}},2312:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},4513:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4217:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`C:\Users\ADMIN\Documents\TSF Comms Club\app\super\layout.tsx`),{__esModule:r,$$typeof:i}=a,n=a.default},3823:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`C:\Users\ADMIN\Documents\TSF Comms Club\app\super\locations\page.tsx`),{__esModule:r,$$typeof:i}=a,n=a.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,265,476,979,289],()=>t(8251));module.exports=a})();