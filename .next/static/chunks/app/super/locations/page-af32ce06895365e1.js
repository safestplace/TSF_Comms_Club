(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{6574:function(e,t,r){Promise.resolve().then(r.bind(r,321))},321:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(3827),n=r(4090),i=r(1654),a=r(1543),l=r(9313),o=r(4203),c=r(2367),d=r(3508),u=r(9259),h=r(2235),x=r(94);function m(){let[e,t]=(0,n.useState)([]),[r,m]=(0,n.useState)([]),[f,p]=(0,n.useState)([]),[b,g]=(0,n.useState)([]),[j,v]=(0,n.useState)(""),[w,y]=(0,n.useState)(null),[N,k]=(0,n.useState)(""),[C,I]=(0,n.useState)(!0),S=(0,i.e)();(0,n.useEffect)(()=>{z()},[]);let z=async()=>{let{data:e}=await S.from("states").select("*").order("name");t(e||[]);let{data:r}=await S.from("districts").select("*, states(name)").order("name");m(r||[]);let{data:s}=await S.from("institutions").select("*, districts(name, states(name))").eq("status","pending").order("name");p(s||[]);let{data:n}=await S.from("institutions").select("*, districts(name, states(name))").eq("status","approved").order("name");g(n||[]),I(!1)},Z=async()=>{if(!j.trim())return;let{error:e}=await S.from("states").insert({name:j.trim()});e||(v(""),z())},A=async()=>{if(!N.trim()||!w)return;let{error:e}=await S.from("districts").insert({state_id:w,name:N.trim()});e||(k(""),z())},M=async e=>{let{error:t}=await S.from("institutions").update({status:"approved"}).eq("id",e);t||z()},D=async e=>{let{error:t}=await S.from("institutions").delete().eq("id",e);t||z()};return C?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:"max-w-6xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Location Management"}),f.length>0&&(0,s.jsxs)(a.Zb,{className:"mb-6",children:[(0,s.jsx)(a.Ol,{children:(0,s.jsxs)(a.ll,{children:["Pending Institutions (",f.length,")"]})}),(0,s.jsx)(a.aY,{children:(0,s.jsxs)(d.iA,{children:[(0,s.jsx)(d.xD,{children:(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.ss,{children:"Institution Name"}),(0,s.jsx)(d.ss,{children:"District"}),(0,s.jsx)(d.ss,{children:"State"}),(0,s.jsx)(d.ss,{children:"Actions"})]})}),(0,s.jsx)(d.RM,{children:f.map(e=>(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.pj,{className:"font-medium",children:e.name}),(0,s.jsx)(d.pj,{children:e.districts.name}),(0,s.jsx)(d.pj,{children:e.districts.states.name}),(0,s.jsx)(d.pj,{children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(l.z,{size:"sm",onClick:()=>M(e.id),children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,s.jsxs)(l.z,{size:"sm",variant:"danger",onClick:()=>D(e.id),children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),"Reject"]})]})})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)(a.Zb,{children:[(0,s.jsx)(a.Ol,{children:(0,s.jsx)(a.ll,{children:"Add State"})}),(0,s.jsxs)(a.aY,{children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(o.I,{value:j,onChange:e=>v(e.target.value),placeholder:"State name"}),(0,s.jsxs)(l.z,{onClick:Z,children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Add"]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Existing States (",e.length,")"]}),(0,s.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:e.map(e=>(0,s.jsx)(c.C,{variant:"default",children:e.name},e.id))})]})]})]}),(0,s.jsxs)(a.Zb,{children:[(0,s.jsx)(a.Ol,{children:(0,s.jsx)(a.ll,{children:"Add District"})}),(0,s.jsx)(a.aY,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("select",{value:w||"",onChange:e=>y(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,s.jsx)("option",{value:"",children:"Select a state"}),e.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(o.I,{value:N,onChange:e=>k(e.target.value),placeholder:"District name"}),(0,s.jsxs)(l.z,{onClick:A,disabled:!w,children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})})]})]}),(0,s.jsxs)(a.Zb,{className:"mb-6",children:[(0,s.jsx)(a.Ol,{children:(0,s.jsxs)(a.ll,{children:["All Districts (",r.length,")"]})}),(0,s.jsx)(a.aY,{children:(0,s.jsxs)(d.iA,{children:[(0,s.jsx)(d.xD,{children:(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.ss,{children:"District Name"}),(0,s.jsx)(d.ss,{children:"State"})]})}),(0,s.jsx)(d.RM,{children:r.map(e=>(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.pj,{className:"font-medium",children:e.name}),(0,s.jsx)(d.pj,{children:e.states.name})]},e.id))})]})})]}),(0,s.jsxs)(a.Zb,{children:[(0,s.jsx)(a.Ol,{children:(0,s.jsxs)(a.ll,{children:["Approved Institutions (",b.length,")"]})}),(0,s.jsx)(a.aY,{children:(0,s.jsxs)(d.iA,{children:[(0,s.jsx)(d.xD,{children:(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.ss,{children:"Institution Name"}),(0,s.jsx)(d.ss,{children:"District"}),(0,s.jsx)(d.ss,{children:"State"})]})}),(0,s.jsx)(d.RM,{children:b.map(e=>(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.pj,{className:"font-medium",children:e.name}),(0,s.jsx)(d.pj,{children:e.districts.name}),(0,s.jsx)(d.pj,{children:e.districts.states.name})]},e.id))})]})})]})]})}},2367:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var s=r(3827),n=r(1657);function i(e){let{className:t,variant:r="default",children:i,...a}=e;return(0,s.jsx)("span",{className:(0,n.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-gray-100 text-gray-800":"default"===r,"bg-success-100 text-success-800":"success"===r,"bg-warning-100 text-warning-800":"warning"===r,"bg-error-100 text-error-800":"error"===r,"bg-primary-100 text-primary-800":"info"===r},t),...a,children:i})}},9313:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(3827),n=r(1657);let i=(0,r(4090).forwardRef)((e,t)=>{let{className:r,variant:i="primary",size:a="md",isLoading:l,children:o,...c}=e;return(0,s.jsxs)("button",{ref:t,disabled:l||c.disabled,className:(0,n.cn)("inline-flex items-center justify-center font-semibold","transition-all duration-300 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent","disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed","relative overflow-hidden group","hover:shadow-lg hover:shadow-blue-500/25 hover:-translate-y-0.5","active:scale-95 active:translate-y-0",{"px-3 py-1.5 text-sm rounded-lg":"sm"===a,"px-4 py-2.5 text-sm rounded-lg":"md"===a,"px-6 py-3 text-base rounded-xl":"lg"===a,"px-8 py-4 text-lg rounded-xl":"xl"===a},{"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl focus:ring-blue-500":"primary"===i||"gradient"===i,"bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 hover:border-white/30 focus:ring-white/50":"secondary"===i,"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white shadow-lg hover:shadow-red-500/25 focus:ring-red-500":"danger"===i,"bg-transparent hover:bg-white/10 text-slate-300 hover:text-white border border-transparent hover:border-white/20 focus:ring-white/50":"ghost"===i},{"cursor-wait":l},r),...c,children:[(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12"}),(0,s.jsxs)("span",{className:"relative z-10 flex items-center",children:[l&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})]})});i.displayName="Button"},1543:function(e,t,r){"use strict";r.d(t,{Ol:function(){return a},Zb:function(){return i},aY:function(){return o},ll:function(){return l}});var s=r(3827),n=r(1657);function i(e){let{className:t,children:r,variant:i="default",interactive:a=!1,glowEffect:l=!1,...o}=e;return(0,s.jsx)("div",{className:(0,n.cn)("rounded-2xl transition-all duration-300",{"bg-white/5 backdrop-blur-sm border border-white/10 p-8":"glass"===i||"default"===i,"bg-white/10 backdrop-blur-md border border-white/20 p-8 shadow-2xl":"elevated"===i,"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6":"minimal"===i},a&&["hover:bg-white/10 hover:border-white/20 hover:scale-105 cursor-pointer","hover:shadow-2xl hover:shadow-blue-500/10 transition-all duration-300"],l&&["relative overflow-hidden","before:absolute before:inset-0 before:bg-gradient-to-r before:from-blue-500/20 before:to-purple-500/20 before:opacity-0 before:transition-opacity before:duration-300","hover:before:opacity-100"],t),...o,children:r})}function a(e){let{className:t,children:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)("mb-6",t),...i,children:r})}function l(e){let{className:t,children:r,...i}=e;return(0,s.jsx)("h3",{className:(0,n.cn)("text-2xl font-bold text-white leading-tight","bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",t),...i,children:r})}function o(e){let{className:t,children:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)("space-y-4",t),...i,children:r})}},4203:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var s=r(3827),n=r(1657),i=r(4090);let a=(0,i.forwardRef)((e,t)=>{let{className:r,label:a,error:l,helperText:o,variant:c="default",leftIcon:d,rightIcon:u,type:h="text",...x}=e,[m,f]=(0,i.useState)(!1);x.value&&String(x.value).length;let p=!!l;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2 transition-colors duration-200",children:a}),(0,s.jsxs)("div",{className:"relative",children:[d&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 transition-colors duration-200",children:d}),(0,s.jsx)("input",{type:h,ref:t,onFocus:()=>f(!0),onBlur:()=>f(!1),className:(0,n.cn)("w-full transition-all duration-300 ease-out","placeholder-slate-400 text-white text-sm","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent","disabled:opacity-50 disabled:cursor-not-allowed",(()=>{switch(c){case"glass":return"px-6 py-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl text-white hover:bg-white/10 hover:border-white/20 hover:shadow-lg hover:shadow-blue-500/10 focus:bg-white/10 focus:border-blue-400/60 focus:ring-blue-400/50 focus:shadow-lg focus:shadow-blue-500/20 has-[leftIcon]:pl-14 has-[rightIcon]:pr-14";case"compact":return"px-3 py-2.5 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg text-white hover:bg-white/10 hover:border-white/20 focus:bg-white/10 focus:border-blue-500/50 focus:ring-blue-500/50 has-[leftIcon]:pl-10 has-[rightIcon]:pr-10";case"minimal":return"px-4 py-3 bg-transparent border border-slate-600 rounded-lg text-white hover:border-slate-500 focus:border-blue-500 focus:ring-blue-500/50 has-[leftIcon]:pl-12 has-[rightIcon]:pr-12";default:return"px-4 py-4 bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl text-white hover:bg-white/10 hover:border-white/20 focus:bg-white/10 focus:border-blue-500/50 focus:ring-blue-500/50 has-[leftIcon]:pl-12 has-[rightIcon]:pr-12"}})(),p&&"border-red-500/50 focus:border-red-500 focus:ring-red-500/50 hover:border-red-500/70",m&&"scale-[1.01]",r),...x}),u&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 transition-colors duration-200",children:u}),p&&!u&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-400",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),m&&(0,s.jsx)("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/20 to-purple-500/20 blur-sm -z-10 animate-pulse"})]}),(l||o)&&(0,s.jsx)("div",{className:"mt-1 flex items-center space-x-2",children:l?(0,s.jsxs)("p",{className:"text-xs text-red-400 flex items-center space-x-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,s.jsx)("span",{children:l})]}):(0,s.jsx)("p",{className:"text-xs text-slate-400",children:o})})]})});a.displayName="Input"},3508:function(e,t,r){"use strict";r.d(t,{RM:function(){return l},SC:function(){return o},iA:function(){return i},pj:function(){return d},ss:function(){return c},xD:function(){return a}});var s=r(3827),n=r(1657);function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsx)("table",{className:(0,n.cn)("min-w-full divide-y divide-gray-200",t),...r})})}function a(e){let{className:t,...r}=e;return(0,s.jsx)("thead",{className:(0,n.cn)("bg-gray-50",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("tbody",{className:(0,n.cn)("bg-white divide-y divide-gray-200",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("tr",{className:(0,n.cn)("hover:bg-gray-50",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("th",{className:(0,n.cn)("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("td",{className:(0,n.cn)("px-6 py-4 whitespace-nowrap text-sm",t),...r})}},1654:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});var s=r(2095);let n=()=>(0,s.createBrowserClient)("https://xhuwyhirsxmaairbmset.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhodXd5aGlyc3htYWFpcmJtc2V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3OTQwMTMsImV4cCI6MjA3ODM3MDAxM30.5KnhTKxbakwabHmCGvAD7TC8x3SvNIUV28BIcY3QL7s")},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return i},lV:function(){return l},o0:function(){return a},zo:function(){return o}});var s=r(3167),n=r(1367);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}function a(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function l(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function o(e){return 5*Math.floor(e/20)}},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(4090),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{color:l="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:h,...x}=r;return(0,s.createElement)("svg",{ref:a,...n,width:o,height:o,stroke:l,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(i(e)),u].join(" "),...x},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(h)?h:[h]])});return r.displayName="".concat(e),r}},9259:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(7461).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},94:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2235:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[59,971,69,744],function(){return e(e.s=6574)}),_N_E=e.O()}]);