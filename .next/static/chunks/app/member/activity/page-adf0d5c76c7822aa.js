(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{2502:function(e,t,r){Promise.resolve().then(r.bind(r,3915))},3915:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(3827),n=r(4090),i=r(1654),a=r(1543),l=r(9313),o=r(2367),c=r(1657),d=r(2670),u=r(1270),m=r(5390);function h(e){let{meetingId:t,clubId:r,onSuccess:a}=e,[o,c]=(0,n.useState)([]),[h,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),p=(0,i.e)(),{register:g,handleSubmit:v,formState:{errors:w}}=(0,d.cI)({resolver:(0,u.F)(m.lP)});(0,n.useEffect)(()=>{(async()=>{let{data:e}=await p.from("roles").select("*").eq("club_id",r).order("name");e&&c(e)})()},[r]);let y=async e=>{x(!0),b(null);let{data:{user:r}}=await p.auth.getUser();if(!r)return;let{error:s}=await p.from("role_requests").insert({meeting_id:t,user_id:r.id,role_id:e.role_id});if(s){b(s.message),x(!1);return}x(!1),a()};return(0,s.jsxs)("form",{onSubmit:v(y),className:"space-y-4",children:[f&&(0,s.jsx)("div",{className:"bg-error-50 border border-error-200 text-error-800 px-4 py-3 rounded-md text-sm",children:f}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Role"}),(0,s.jsxs)("select",{...g("role_id",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,s.jsx)("option",{value:"",children:"Choose a role"}),o.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))]}),w.role_id&&(0,s.jsx)("p",{className:"mt-1 text-sm text-error-600",children:w.role_id.message})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"You can request one role per meeting. Your request will be reviewed by the club admin."}),(0,s.jsx)(l.z,{type:"submit",className:"w-full",disabled:h,children:h?"Submitting...":"Request Role"})]})}var x=r(7307);function f(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[f,b]=(0,n.useState)([]),[p,g]=(0,n.useState)(!0),v=(0,i.e)();(0,n.useEffect)(()=>{w()},[]);let w=async()=>{let{data:{user:e}}=await v.auth.getUser();if(!e)return;let{data:r}=await v.from("club_members").select("club_id").eq("user_id",e.id).eq("status","approved").single();if(r){d(r.club_id);let{data:s}=await v.from("meetings").select("*, levels(*)").eq("club_id",r.club_id).order("scheduled_at",{ascending:!1});t(s||[]);let{data:n}=await v.from("role_requests").select("*, roles(*), meetings(*)").eq("user_id",e.id);b(n||[])}g(!1)},y=e=>f.find(t=>t.meeting_id===e);return p?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:"max-w-6xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Meeting Activity"}),u&&r&&(0,s.jsxs)(a.Zb,{className:"mb-6",children:[(0,s.jsx)(a.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(a.ll,{children:"Request a Role"}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>m(null),children:"Cancel"})]})}),(0,s.jsx)(a.aY,{children:(0,s.jsx)(h,{meetingId:u,clubId:r,onSuccess:()=>{m(null),w()}})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>{let t=y(e.id);return(0,s.jsx)(a.Zb,{children:(0,s.jsx)(a.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,s.jsx)(x.Z,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,s.jsxs)(o.C,{variant:"info",children:["Level ",e.levels.number]})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,c.o0)(e.scheduled_at)," â€¢ ",e.venue]}),e.notes&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.notes}),t&&(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsxs)(o.C,{variant:"approved"===t.status?"success":"rejected"===t.status?"error":"warning",children:["Role: ",t.roles.name," (",t.status,")"]})})]}),!t&&(0,s.jsx)(l.z,{size:"sm",onClick:()=>m(e.id),children:"Request Role"})]})})},e.id)}),0===e.length&&(0,s.jsx)(a.Zb,{children:(0,s.jsx)(a.aY,{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No meetings available yet"})})})]})]})}},2367:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var s=r(3827),n=r(1657);function i(e){let{className:t,variant:r="default",children:i,...a}=e;return(0,s.jsx)("span",{className:(0,n.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-gray-100 text-gray-800":"default"===r,"bg-success-100 text-success-800":"success"===r,"bg-warning-100 text-warning-800":"warning"===r,"bg-error-100 text-error-800":"error"===r,"bg-primary-100 text-primary-800":"info"===r},t),...a,children:i})}},9313:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(3827),n=r(1657);let i=(0,r(4090).forwardRef)((e,t)=>{let{className:r,variant:i="primary",size:a="md",isLoading:l,children:o,...c}=e;return(0,s.jsxs)("button",{ref:t,disabled:l||c.disabled,className:(0,n.cn)("inline-flex items-center justify-center font-semibold","transition-all duration-300 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent","disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed","relative overflow-hidden group","hover:shadow-lg hover:shadow-blue-500/25 hover:-translate-y-0.5","active:scale-95 active:translate-y-0",{"px-3 py-1.5 text-sm rounded-lg":"sm"===a,"px-4 py-2.5 text-sm rounded-lg":"md"===a,"px-6 py-3 text-base rounded-xl":"lg"===a,"px-8 py-4 text-lg rounded-xl":"xl"===a},{"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl focus:ring-blue-500":"primary"===i||"gradient"===i,"bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 hover:border-white/30 focus:ring-white/50":"secondary"===i,"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white shadow-lg hover:shadow-red-500/25 focus:ring-red-500":"danger"===i,"bg-transparent hover:bg-white/10 text-slate-300 hover:text-white border border-transparent hover:border-white/20 focus:ring-white/50":"ghost"===i},{"cursor-wait":l},r),...c,children:[(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12"}),(0,s.jsxs)("span",{className:"relative z-10 flex items-center",children:[l&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})]})});i.displayName="Button"},1543:function(e,t,r){"use strict";r.d(t,{Ol:function(){return a},Zb:function(){return i},aY:function(){return o},ll:function(){return l}});var s=r(3827),n=r(1657);function i(e){let{className:t,children:r,variant:i="default",interactive:a=!1,glowEffect:l=!1,...o}=e;return(0,s.jsx)("div",{className:(0,n.cn)("rounded-2xl transition-all duration-300",{"bg-white/5 backdrop-blur-sm border border-white/10 p-8":"glass"===i||"default"===i,"bg-white/10 backdrop-blur-md border border-white/20 p-8 shadow-2xl":"elevated"===i,"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6":"minimal"===i},a&&["hover:bg-white/10 hover:border-white/20 hover:scale-105 cursor-pointer","hover:shadow-2xl hover:shadow-blue-500/10 transition-all duration-300"],l&&["relative overflow-hidden","before:absolute before:inset-0 before:bg-gradient-to-r before:from-blue-500/20 before:to-purple-500/20 before:opacity-0 before:transition-opacity before:duration-300","hover:before:opacity-100"],t),...o,children:r})}function a(e){let{className:t,children:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)("mb-6",t),...i,children:r})}function l(e){let{className:t,children:r,...i}=e;return(0,s.jsx)("h3",{className:(0,n.cn)("text-2xl font-bold text-white leading-tight","bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",t),...i,children:r})}function o(e){let{className:t,children:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)("space-y-4",t),...i,children:r})}},1654:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});var s=r(2095);let n=()=>(0,s.createBrowserClient)("https://xhuwyhirsxmaairbmset.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhodXd5aGlyc3htYWFpcmJtc2V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3OTQwMTMsImV4cCI6MjA3ODM3MDAxM30.5KnhTKxbakwabHmCGvAD7TC8x3SvNIUV28BIcY3QL7s")},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return i},lV:function(){return l},o0:function(){return a},zo:function(){return o}});var s=r(3167),n=r(1367);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}function a(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function l(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function o(e){return 5*Math.floor(e/20)}},5390:function(e,t,r){"use strict";r.d(t,{dm:function(){return n},gY:function(){return i},lP:function(){return l},u8:function(){return a}});var s=r(3391);let n=s.Ry({email:s.Z_().email("Invalid email address"),password:s.Z_().min(6,"Password must be at least 6 characters")}),i=s.Ry({name:s.Z_().min(2,"Name must be at least 2 characters"),email:s.Z_().email("Invalid email address"),password:s.Z_().min(6,"Password must be at least 6 characters"),confirmPassword:s.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});s.Ry({club_name:s.Z_().min(3,"Club name must be at least 3 characters"),state_id:s.Rx().min(1,"Please select a state"),district_id:s.Rx().min(1,"Please select a district"),institution_text:s.Z_().min(3,"Institution name required")});let a=s.Ry({title:s.Z_().min(3,"Title must be at least 3 characters"),level_id:s.Rx().min(1,"Please select a level"),scheduled_at:s.Z_().min(1,"Please select a date and time"),venue:s.Z_().min(3,"Venue is required"),notes:s.Z_().optional()});s.Ry({title:s.Z_().min(3,"Title required"),description:s.Z_().min(10,"Description required"),level_id:s.Rx().min(1,"Select level")});let l=s.Ry({role_id:s.Rx().min(1,"Please select a role")})},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(4090),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{color:l="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...h}=r;return(0,s.createElement)("svg",{ref:a,...n,width:o,height:o,stroke:l,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(i(e)),u].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},7307:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(7461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},function(e){e.O(0,[59,462,971,69,744],function(){return e(e.s=2502)}),_N_E=e.O()}]);